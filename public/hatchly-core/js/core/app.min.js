this.JST={alerts:function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)type="danger",200==status&&(type="success"),__p+="\n",messages.length&&(__p+='\n    <div class="alert alert-'+__e(type)+'" role="alert">\n        ',_.each(messages,function(t){__p+="\n            "+__e(t)+"<br/>\n        "}),__p+="\n    </div>\n");return __p}},function(){var t,n,e,o,r,i,s,a=function(t,n){function e(){this.constructor=t}for(var o in n)u.call(n,o)&&(t[o]=n[o]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},u={}.hasOwnProperty;t=function(){function t(){this.registerEvents()}return t.prototype.registerEvents=function(){return $(document).on("submit","[data-ajax-form]",function(t){return function(n){return n.preventDefault(),t.ajaxFormSubmit(n)}}(this))},t.prototype.ajaxFormSubmit=function(t){var n,e;return n=$(t.currentTarget),n.trigger("Hatchly.AjaxForm.submitted",{originalEvent:t}),e=$.ajax({url:n.attr("action"),method:n.attr("method").toUpperCase(),data:n.serialize()}),e.success(function(n){return function(e,o,r){return n.success(t,e,o,r)}}(this)),e.error(function(n){return function(e,o,r){return n.error(t,e,o,r)}}(this)),e.complete(function(n){return function(e,o){return n.complete(t,e,o)}}(this))},t.prototype.success=function(t,n,e,o){var r;return r=$(t.currentTarget),r.trigger("Hatchly.AjaxForm.success",{originalEvent:t,callback:{data:n,textStatus:e,jqXHR:o}})},t.prototype.error=function(t,n,e,o){var r;return r=$(t.currentTarget),r.trigger("Hatchly.AjaxForm.error",{originalEvent:t,callback:{jqXHR:n,textStatus:e,errorThrown:o}})},t.prototype.complete=function(t,n,e){var o;return o=$(t.currentTarget),o.trigger("Hatchly.AjaxForm.complete",{originalEvent:t,callback:{jqXHR:n,textStatus:e}})},t}(),n=function(){function t(){this.sizeContent(),this.events()}return t.prototype.events=function(){return $(window).resize(this.sizeContent)},t.prototype.sizeContent=function(){var t;return t=$("#content"),t.css({"min-height":$(window).height()})},t}(),e=function(){function t(){$(document).on("Hatchly.start",function(t){return function(){return t.registerCustomTinyMCEPlugins(),t.registerFields(),t.registerEvents()}}(this))}return t.prototype.registerFields=function(){var t,n,e,o,r;for(o=["wysiwyg","datePickers","timePickers","dateTimePickers","select2"],r=[],n=0,e=o.length;n<e;n++)t=o[n],r.push(this[t]());return r},t.prototype.registerCustomTinyMCEPlugins=function(){return new s},t.prototype.getTinyMCEPlugins=function(){var t,n,e,o,r;for(o=[],r=window.Hatchly.tinyMCEPlugins,t=0,n=r.length;t<n;t++)e=r[t],o.push(e.name);return o.join(" ")},t.prototype.getTinyMCEButtons=function(){var t,n,e,o,r;for(t=[],r=window.Hatchly.tinyMCEPlugins,n=0,e=r.length;n<e;n++)o=r[n],t.push.apply(t,o.buttons);return t.join(" ")},t.prototype.wysiwyg=function(){var t;if(t=$("[data-wysiwyg]"),t.length)return t.each(function(t){return function(n,e){if(!$(e).hasClass("init"))return $(e).addClass("init"),$(e).tinymce({theme:"modern",skin:"light",relative_urls:!1,plugins:[t.getTinyMCEPlugins(),"advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste"],toolbar:t.getTinyMCEButtons()+" | insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"})}}(this))},t.prototype.datePickers=function(){return $("[data-datepicker]").each(function(t){return function(n,e){return t.setupDatePicker(e)}}(this))},t.prototype.setupDatePicker=function(t){return $(t).pickadate({format:"dd-mm-yyyy",selectYears:!0})},t.prototype.timePickers=function(){return $("[data-timepicker]").each(function(t){return function(n,e){return t.setupTimePicker(e)}}(this))},t.prototype.setupTimePicker=function(t){return $(t).pickatime({format:"HH:i"})},t.prototype.dateTimePickers=function(){},t.prototype.registerEvents=function(){return $("body").on("Hatchly.Core.fieldsAdded",function(t){return function(n){return setTimeout(function(){return t.registerFields()},0)}}(this))},t.prototype.select2=function(){var t;return t=$("select").not(".unstyled"),t.each(function(t,n){var e;return e=$(n).next(".select2-container"),e.length&&(e.remove(),$(n).data("select2")&&$(n).select2("destroy")),$(n).select2(),$(n).on("select2:select",function(){return n.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))})})},t}(),o=function(){function t(){this.init(),this.events()}return t.prototype.init=function(){},t.prototype.events=function(){},t}(),window.ModalBase=function(){function t(){this.setDefaults(),this.registerCoreEvents()}return t.prototype.setDefaults=function(){return this.config={},this.defaults={message:this.modalContentWithMessages(),title:this.title(),onEscape:function(){}}},t.prototype.registerCoreEvents=function(){return $(document).on("show.bs.modal",".modal",this.centerModals),$(window).on("resize",this.centerModals)},t.prototype.centerModals=function(){return $(".modal").each(function(t){var n,e;return n=$(this).clone().css("display","block").appendTo("body"),e=Math.round((n.height()-n.find(".modal-content").height())/2),e=e>0?e:0,n.remove(),$(this).find(".modal-content").css("margin-top",e)})},t.prototype.show=function(t){var n;return null==t&&(t={}),n=$.extend(!0,this.defaults,this.config),this.modal=bootbox.dialog(this.defaults),this.modal.on("show.bs.modal",this.onModalShow),this.modal.on("shown.bs.modal",this.onModalShown),this.modal.on("hide.bs.modal",this.onModalHide),this.modal.on("hidden.bs.modal",this.onModalHidden)},t.prototype.close=function(){return this.modal.modal("hide")},t.prototype.onModalHide=function(){},t.prototype.onModalHidden=function(){},t.prototype.onModalShow=function(){},t.prototype.onModalShown=function(){},t.prototype.title=function(){return"Modal Title"},t.prototype.modalMessages=function(){return'<div class="modal_messages"></div>'},t.prototype.modalContentWithMessages=function(){var t;return t=[this.modalMessages(),this.modalContent()],t.join("")},t.prototype.modalContent=function(){return"Please provide content by overriding the modalContent method."},t.prototype.invoker=function(){return"data-empty-modal"},t.prototype.addMessages=function(){return this.clearMessages()},t.prototype.clearMessages=function(){},t}(),r=function(){function t(){this.events(),this.sizeOverflow()}return t.prototype.events=function(){return $(window).resize(this.sizeOverflow),$(document).on("click","[data-toggle-nav]",function(t){return function(n){return n.preventDefault(),t.toggleNav()}}(this))},t.prototype.sizeOverflow=function(){var t,n;return t=$("#nav .nav-inner"),n=0,$("#nav #toggle-nav:visible").length&&(n+=$("#nav #toggle-nav:visible").outerHeight()),$("#nav #nav-footer").length&&(n+=$("#nav #nav-footer").outerHeight()),t.css({height:$(window).height()-n})},t.prototype.toggleNav=function(){return $("#nav").toggleClass("open")},t}(),i=function(){function t(t){this.extended=null!=t?t:{},_.size(this.extended)&&$.extend(this.config,this.extended)}return t.prototype.isIn=!1,t.prototype.config={type:"page",component:""},t.prototype.is=function(t){return $("body").hasClass(this.config.type+"-"+this.config.component+t)},t.prototype.in=function(t){var n,e,o,r;for(this.isIn=!1,t=t instanceof Array?t:[t],n=function(t){return function(n){if(t.is(n))return t.isIn=!0}}(this),e=0,o=t.length;e<o;e++)r=t[e],n(r);return this.isIn},t.prototype.segment=function(t){var n;return n=window.location.pathname.split("/"),null!=n[t]&&n[t]},t.prototype.segmentMatch=function(t,n){return this.segment(t)===n},t}(),s=function(){function t(){this.registerPlugin(),this.registerEvents()}return t.prototype.registerEvents=function(){return $("body").on("Hatchly.files.file-selected",function(t){return function(n,e){return null==e&&(e={}),t.handleSelectedImage(n,e)}}(this))},t.prototype.handleSelectedImage=function(t,n){if(this.openWindow)return this.openWindow.close(),tinyMCE.execCommand("mceInsertContent",!1,'<img alt="'+n.name+'" height="100" src="'+n.public_url+'"/>'),this.openWindow=!1},t.prototype.registerPlugin=function(){var t;return tinymce.PluginManager.add("filemanager",function(t){return function(n,e){return n.addButton("filemanager",{tooltip:"Add Image",icon:"add-image",onclick:function(){return t.openWindow=n.windowManager.open({title:"Select file",url:"/admin/files/file-browser",width:800,height:600})}})}}(this)),t={name:"filemanager",buttons:["filemanager"]},window.Hatchly.tinyMCEPlugins||(window.Hatchly.tinyMCEPlugins=[]),window.Hatchly.tinyMCEPlugins.push(t)},t}(),window.ConfirmModal=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.registerEvents()}return a(n,t),n.prototype.setupModal=function(t){var n,e,o;return n=$(t.currentTarget),e=n.data(this.invoker()),o=$.extend(!0,{},t),this.config={message:this.modalContent(e),title:e.title,buttons:{danger:{label:e.label||"Confirm",className:"btn-danger",callback:function(t){return function(){return t.confirmCallback(o)}}(this)},main:{label:"Cancel",className:"btn-default"}}}},n.prototype.registerEvents=function(){return $(document).on("click submit","[data-"+this.invoker()+"]",function(t){return function(n,e){return null==e&&(e={}),!!e.confirmed||(n.preventDefault(),t.setupModal(n),t.show())}}(this))},n.prototype.confirmCallback=function(t){var n,e,o;return n=$(t.currentTarget),e=n.data(this.invoker()),o=t.type,"A"===t.currentTarget.tagName?window.location=t.currentTarget.href:n.trigger(o,{confirmed:!0})},n.prototype.invoker=function(){return"confirmation"},n.prototype.modalContent=function(t){var n;return null==t&&(t={}),n=[this.modalMessages(),"<p>"+t.message+"</p>"]},n}(ModalBase),i=function(){function t(t){this.extended=null!=t?t:{},_.size(this.extended)&&$.extend(this.config,this.extended)}return t.prototype.isIn=!1,t.prototype.config={type:"page",component:""},t.prototype.is=function(t){return $("body").hasClass(this.config.type+"-"+this.config.component+t)},t.prototype.in=function(t){var n,e,o,r;for(this.isIn=!1,t=t instanceof Array?t:[t],n=function(t){return function(n){if(t.is(n))return t.isIn=!0}}(this),e=0,o=t.length;e<o;e++)r=t[e],n(r);return this.isIn},t.prototype.segment=function(t){var n;return n=window.location.pathname.split("/"),null!=n[t]&&n[t]},t.prototype.segmentMatch=function(t,n){return this.segment(t)===n},t}(),window.JST&&(window.CoreJST=JST,window.JST=!1),o=new o,r=new r,n=new n,t=new t,e=new e,window.Page=new i({component:"hatchly"}),Vue.config.debug=!0,window.Vue=Vue,window.Hatchly=window.Hatchly||{},Hatchly.start=function(){return window.LoadedPage=window.LoadedPage||new Promise(function(t){return t()}),window.LoadedPage.then(function(){return new Vue({el:"#content",ready:function(){return this.$nextTick(this.hatchlyStart)},mounted:function(){return this.$nextTick(this.hatchlyStart)},methods:{hatchlyStart:function(){return $(document).trigger("Hatchly.start")}}})})},new ModalBase,new ConfirmModal}.call(this);